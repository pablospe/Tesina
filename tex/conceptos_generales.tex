\section{Conceptos Generales}


\subsection*{Motivación}
\noindent
Actualmente es posible escribir en dispositivos electrónicos, sobre todo con la llegada de las Tablet PC, pizarras eléctricas, celulares touch-screen y las pantallas táctiles. También cabe destacar algunos e-Readers que permiten la escritura, convirtiéndose en \textit{papel electrónico}. La escritura se realiza generalmente con un \textit{stylus} (lápiz), abriendo la puerta a nuevas interacciones más allá del teclado y mouse. En la figura \ref{tabletas}, puede apreciarse una variedad de dispositivos que permiten la escritura con lápiz.
\begin{figure}[!htbp]
 \centering
 \includegraphics[scale=0.70]{imagen/tabletas.pdf}
 \caption{Tabletas}
 \label{tabletas}
\end{figure}

A pesar de que exista una variedad importante de tales dispositivos, todavía no hay una aplicación sobresaliente para ellos. El usuario ve al stylus como un mouse sofisticado, sin que se logre una mejora significativa en la productividad al no explotar la potencialidad del mismo. Un buen sistema de handwriting recognition podría permitir al usuario una mejor experiencia con respecto al papel y lápiz tradicional, permitiéndole obtener resultados inmediatos a partir de su escritura, como ser resultados matemáticos.


\vspace*{-1ex}
\subsection*{Reconocimiento Online vs Offline}
\label{Fundamentos}

% \subsubsection*{On-line vs Off-line}
\noindent
A diferencia del enfoque \textit{Offline} de handwriting recognition, el cual pretende reconocer caracteres a partir de una imagen, el enfoque \textit{Online} intenta el reconocimiento a partir de secuencias de puntos, que aquí llamaremos trazos (\textit{strokes}). Ambos enfoques están esquemáticamente representados en la figura \ref{fig:off|on-line}.
\begin{figure}[!htbp]
 \centering
 \includegraphics[scale=0.85]{imagen/off|on-line.pdf}
 \caption{Offline vs Online.}
 \label{fig:off|on-line}
\end{figure}

Como puede verse, se posee el orden en que cada uno de los puntos fue escrito. Así, es posible diferenciar distintos estilos de escrituras, a pesar de que el resultado final puede que sea el mismo. La utilización de un stylus en un dispositivo electrónico permite usar el enfoque Online.


\subsection*{Segmentación}
\noindent



\subsection*{Posibles etapas}
\noindent
En el análisis de handwriting recognition pueden reconocerse las siguientes etapas:
% , como en parte se destaca en \cite{CommunicatingMathematics}:

\begin{enumerate}[1.]

 \item \textbf{Colección de trazos}

Un caracter puede ser escrito con un sólo trazo (\textit{Single-Stroke}) o con muchos (\textit{Multi-Stroke}), ver figura \ref{fig:single|multi-stroke}. El problema de determinar qué trazos pertenecen a qué caracteres es llamado \textit{Stroke grouping}.
\begin{figure}[!htbp]
 \centering
 \includegraphics{imagen/single|multi-stroke.pdf}
 \caption{Los dos primeros trazos son Single-Stroke, y el último es Multi-Stroke.}
 \label{fig:single|multi-stroke}
\end{figure}


 \item \textbf{Preproceso}

    En el preprocesado pueden aplicarse diferentes filtros. El \textit{suavizado} elimina el ruido frecuentemente presente al principio y final de cada trazo. La normalización por \textit{resampling}\footnote{\textit{Resampling} ayuda a unificar distancias entre los puntos.} y \textit{resizing}\footnote{\textit{Resizing} asegura que el tamaño del caracter escrito no afecte al resultado del reconocimiento.}. En la figura \ref{fig:preprocesing} puede observarse una posible secuencia de aplicación de filtros.

    \begin{figure}[!htbp]
    \centering
    \includegraphics{imagen/preprocesing.pdf}
    \caption{(a) Suavizado y resizing, (b) luego resampling }
    \label{fig:preprocesing}
    \end{figure}


 \item \textbf{Extracción de características (\textit{Feature extraction})}

    En este paso se extraen características (\textit{features}) de los trazos. Hay varios tipos de features que se han usado tradicionalmente: los relativos a la apariencia que incluye, por ejemplo, proporción entre la altura y ancho; los relativos a propiedades geométricas, como ser la cantidad de loops e intersecciones, centro de gravedad, puntos dominantes; los relativos al estilo de escritura, como la dirección y cantidad de strokes. Se posterga para la sección~\ref{feature_extraction} la explicación de los features utilizados en este trabajo.


 \item \textit{Entrenamiento (o Training)}


 \item \textit{Reconocimiento  (o Matching)}

    La etapa es el matching de la entrada con los modelos en una base de datos. Después de que los features podaron el árbol de modelos, es necesario lidiar con solo una fracción de la colección. Se pueden citar algoritmos como \textit{Elastic Matching} \cite{ElasticMatching} o \textit{Legendre-Sobolev} \cite{LegendreSobolevComp, OnlineStrokeModeling}.



% \newpage
    \item \textbf{Análisis estructural}

Como la entrada se espera que sea matemática, además de reconocer cada caracter individual, también se tienen que interpretar su posición y rol en la expresión. Primero, se considera solo la posición relativa de los caracteres, sin determinar su semántica, como se ve en el ejemplo representado en la figura \ref{fig:layout_trees}.
\begin{figure}[!htbp]
 \centering
 \includegraphics{imagen/layout_trees.pdf}
 \caption{Representación de la fórmula manuscrita y su correspondiente Layout.}
 \label{fig:layout_trees}
\end{figure}

Luego, se marcan explícitamente decimales, operadores, fracciones, etc. Cada nodo en el árbol es asignado a un rol en la expresión. Se intenta distinguir entre nombres de funciones y de variables, entre multiplicaciones implícitas de aplicación de funciones, etc. %Esta etapa es difícil y requiere semántica profunda.



\item \textbf{Extracción de contenido matemático}

El árbol construido después del análisis estructural ya posee semántica y puede ser transformado directamente a \LaTeX~ o MathML \cite{MathML}.


\end{enumerate}

